# ═══════════════════════════════════════════════════════════════
# 🔐 CONFIGURATION DE SÉCURITÉ - SORIKAMA HUB
# ═══════════════════════════════════════════════════════════════
#
# ⚠️  IMPORTANT : NE JAMAIS COMMITER CE FICHIER AVEC DE VRAIES VALEURS
#
# Pour générer de nouveaux secrets :
#   npm run generate-secrets
#
# ═══════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────
# 🔑 SECRETS JWT (64 caractères minimum)
# ───────────────────────────────────────────────────────────────
# Secret pour signer les access tokens (durée : 24h)
JWT_SECRET=REMPLACER_PAR_SECRET_GENERE_64_CARACTERES_MINIMUM

# Secret pour signer les refresh tokens (durée : 7-30 jours)
JWT_REFRESH_SECRET=REMPLACER_PAR_SECRET_GENERE_64_CARACTERES_MINIMUM

# Durée de validité des tokens
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ───────────────────────────────────────────────────────────────
# 🔐 CLÉ DE CHIFFREMENT (64 caractères pour AES-256)
# ───────────────────────────────────────────────────────────────
# Utilisée pour chiffrer les données sensibles (emails, IDs, etc.)
ENCRYPTION_KEY=REMPLACER_PAR_SECRET_GENERE_64_CARACTERES_MINIMUM

# ───────────────────────────────────────────────────────────────
# 🔒 SECRET HMAC INTER-SERVICES (128 caractères minimum)
# ───────────────────────────────────────────────────────────────
# Secret partagé entre Sorikama Hub et tous les services (MaseBuy, etc.)
# ⚠️  DOIT ÊTRE IDENTIQUE dans tous les services
SERVICE_HMAC_SECRET=REMPLACER_PAR_SECRET_GENERE_128_CARACTERES_MINIMUM

# ───────────────────────────────────────────────────────────────
# 🔍 BLIND INDEX PEPPER (64 caractères)
# ───────────────────────────────────────────────────────────────
# Utilisé pour le blind indexing des emails (recherche sans déchiffrement)
BLIND_INDEX_PEPPER=REMPLACER_PAR_SECRET_GENERE_64_CARACTERES_MINIMUM

# ───────────────────────────────────────────────────────────────
# 🗄️ REDIS (pour blacklist de tokens)
# ───────────────────────────────────────────────────────────────
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ───────────────────────────────────────────────────────────────
# 🗃️ MONGODB
# ───────────────────────────────────────────────────────────────
MONGO_URI=mongodb://localhost:27017/sorikama_gateway

# ───────────────────────────────────────────────────────────────
# 🌐 URLS
# ───────────────────────────────────────────────────────────────
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:7000
BASE_URL=http://localhost:7000/api/v1

# ───────────────────────────────────────────────────────────────
# 🔧 ENVIRONNEMENT
# ───────────────────────────────────────────────────────────────
NODE_ENV=development
PORT=7000

# ───────────────────────────────────────────────────────────────
# 📧 EMAIL (optionnel)
# ───────────────────────────────────────────────────────────────
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=

# ═══════════════════════════════════════════════════════════════
# 📝 NOTES DE SÉCURITÉ
# ═══════════════════════════════════════════════════════════════
#
# 1. Génération des secrets :
#    npm run generate-secrets
#
# 2. Validation au démarrage :
#    - Longueur minimale vérifiée
#    - Pas de valeurs par défaut dangereuses
#    - Entropie suffisante
#
# 3. Rotation recommandée :
#    - Tous les 90 jours
#    - Après un incident de sécurité
#    - Lors d'un changement d'équipe
#
# 4. Stockage sécurisé :
#    - Utiliser un gestionnaire de secrets (AWS Secrets Manager, Vault)
#    - Ne jamais commiter dans Git
#    - Différentes clés par environnement
#
# 5. SERVICE_HMAC_SECRET :
#    - DOIT être identique dans Sorikama Hub et MaseBuy
#    - Utilisé pour signer les headers inter-services
#    - Protection contre la forgery des headers
#
# ═══════════════════════════════════════════════════════════════
